= form_with model: @mix do |form|
  .mt-10.flex.flex-col.items-center.gap-5
    %div
      = form.label :name, 'Name your mix', class: 'mr-5'
      = form.text_field :name
    = form.fields_for :videos do |videos_form|
      .js-video.mt-5.flex.flex-col.justify-center.items-center.gap-5.border-dashed.border-4.border-gray-200{class: "w-[500px] h-[281px] #{'hidden' if videos_form.options[:child_index] > 1}"}
        .hx-hide.text-xl.font-display.text-center.text-shadow-lightblue Enter video URL or ID
        .flex.justify-center.items-center.gap-4
          .hx-hide.flex.items-center.gap-5
            = videos_form.text_field :url, class: 'hx-url', placeholder: 'YouTube video URL', 'aria-label': 'YouTube video URL'
          %button.button.leading-5.border-4.border-gray-300.bg-gray-200.hover:border-gray-400.hover:bg-gray-300.transition{
            'hx-get': new_video_path,
            'hx-vals': "js:{url: event.target.parentElement.querySelector('.hx-url').value}",
            'hx-swap': 'outerHTML',
            'hx-on:htmx:before-swap': "event.target.parentElement.parentElement.querySelectorAll('.hx-hide').forEach(el => el.classList.add('hidden'))"
          } Add

  .mt-10.flex.justify-center
    %button.js-add-video.button.leading-5.border-4.border-gray-200.bg-gray-100.group-hover:border-gray-300.group-hover:bg-gray-200
      + Add another video

  .my-10.flex.justify-center.items-center
    = form.button class: 'button border-4 text-xl font-display bg-[chartreuse] border-[forestgreen]' do
      %span.relative{class: 'top-[2px]'} Create mix
